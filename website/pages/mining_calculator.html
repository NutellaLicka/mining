<style>
     /* phone size */
@media screen and (max-width: 800px) {
    #menu {
        width: 100%;
    }
}
</style>

<canvas id="myChart" width="400" height="400"></canvas>

<div id="flex-container">
    <div id="menu">
        <div class="menuHeader">
            Configuration Details
        </div>
        
        <div>
            {{ for (var pool in it.poolsConfigs) { }}
                <div class="poolConfig">
                    <div class="coinInfoHeader">
                            <span class="coinInfoName">{{=it.poolsConfigs[pool].coin.name}}</span> Configuration
                    </div>

                    <div class="configDetails" id="configDetails">
                        <table class="coinInfoTable">
                            <tr>
                                <th>Minimum Payment</th>
                                <td>{{=it.poolsConfigs[pool].paymentProcessing.minimumPayment}}</td>
                            </tr>
                            <tr>
                                <th>Payment Frequency (seconds)</th>
                                <td>{{=it.poolsConfigs[pool].paymentProcessing.paymentInterval}}</td>
                            </tr>
                            <tr>
                                <th>Fee (%)</th>
                                <td>{{=it.poolsConfigs[pool].feeAmount}}</td>
                            </tr>
                            <tr>
                                <th>Algorithm</th>
                                <td>{{=it.poolsConfigs[pool].coin.algorithm}}</td>
                            </tr>
                            <tr>
                                <th>Username:</th>
                                <td>
                                    {{ if (it.poolsConfigs[pool].coin && it.poolsConfigs[pool].coin.privateChain) { }}
                                        your {{=it.poolsConfigs[pool].coin.name}} wallet <b style="color:#C99631;">zS</b> address<br>
                                    {{ } else if (it.poolsConfigs[pool].coin) { }}
                                        your {{=it.poolsConfigs[pool].coin.name}} miner wallet address
                                    {{ } else { }}
                                        your {{=it.poolsConfigs[pool].coin.name}} miner wallet address
                                    {{ } }}
                                </td>
                            </tr>
                            <tr>
                                <th>Password:</th>
                                <td>ANYTHING</td>
                            </tr>
                            <tr>
                                <th>Server/Stratum:</th>
                                <td>{{=it.portalConfig.website.stratumHost}}</td>
                            </tr>
                            {{ for (var port in it.poolsConfigs[pool].ports) { }}
                                <tr>
                                    <th>{{= it.poolsConfigs[pool].ports[port].label ? it.poolsConfigs[pool].ports[port].label : 'URL'}} Port</th>
                                    <td>{{=port}}</td>
                                </tr>
                            {{ } }}
                            <tr>
                                <th>Block Reward</th>
                                <td>{{=it.poolsConfigs[pool].blockRewardAmount}}</td>
                            </tr>
                            <tr>
                                <th>Block Time(s)</th>
                                <td>{{=it.poolsConfigs[pool].blockTimeAmount}}</td>
                            </tr>
                        </table>
                    </div>
                    <div id="statsMiningCalc">...</div>
                </div>
            {{ } }}
        </div>
    </div>
</div>


<script>
    document.querySelector('main').appendChild(document.createElement('script')).src = '/static/miner_stats.js';
function updateKomodoStats() {
	// do some calculations

	//var _blockReward = 3; //need to change to whatever the coins BR is it.poolsConfigs[pool].blockRewardAmount
	//var _networkHashRate = parseFloat(statData.networkSols) * 1.2;
	//var _myHashRate = (totalHash / 1000000) * 2;
	//var luckDays =  ((_networkHashRate / _myHashRate * _blocktime) / (24 * 60 * 60)).toFixed(3);
    var miningCalc = _myHashRate/_networkHashRate * _blockReward * (86400 / _blocktime);

    var kmdBR = 3;
    var arrrBR = 128;
    var rfoxBR = 1;
	var _blocktime = 60; //seconds

    // update miner stats
    function miningCalc() {
        var Ksum = theirkmdHR/_kmdnetworkHashRate * _blockReward * (86400 / _blocktime);
        var Asum = theirarrrHR/_arrrnetworkHashRate * _blockReward * (86400 / _blocktime);
        var Rsum = theirrfoxHR/_rfoxnetworkHashRate * _blockReward * (86400 / _blocktime);

        document.getElementById("KMDoutput").innerHTML = Ksum;
        document.getElementById("ARRRoutput").innerHTML = Asum;
        document.getElementById("RFOXoutput").innerHTML = Rsum;
    }
}

//on button click, update***Stats();


	/* chart test */
	var ctx = document.getElementById('myChart');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
            label: '# of Votes',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});

</script>